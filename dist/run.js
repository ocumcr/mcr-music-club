"use strict";import{EventHandlers as n}from"./EventHandlers/EventHandlers.js";import{ContentEvents as a}from"./EventHandlers/ContentEvents.js";import{HeaderEvents as m}from"./EventHandlers/HeaderEvents.js";import{FooterEvents as f}from"./EventHandlers/FooterEvents.js";import{AppState as t}from"./AppState.js";import{handleQueryChange as p}from"./playMusic.js";import{fetchPlayCountData as s}from"./survey.js";import{PlaylistManager as e}from"./PlaylistManager.js";import{Navigation as l}from"./Navigation.js";import{LocalStorage as o}from"./LocalStorage.js";import{Content as i}from"./UI/Content.js";import{Footer as d}from"./UI/Footer.js";import{Header as c}from"./UI/Header.js";window.addEventListener("DOMContentLoaded",u);async function u(){d.init(o.loopMode,o.shuffleMode,o.volume),c.init(),i.init(),n.init(),m.init(),f.init(),a.init(),l.init();const r=await fetch("music-data.json");t.data=Object.freeze(await r.json()),e.setPlaylist(t.data,t.shuffleMode===1),p(),t.playCountRecord=Object.freeze(await s()),i.setPlayCount(e.playlist,t.playCountRecord)}
