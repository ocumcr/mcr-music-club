"use strict";import{EventHandlers as a}from"./EventHandlers/EventHandlers.js";import{ContentEvents as m}from"./EventHandlers/ContentEvents.js";import{HeaderEvents as f}from"./EventHandlers/HeaderEvents.js";import{FooterEvents as l}from"./EventHandlers/FooterEvents.js";import{Record as o}from"./Record.js";import{Survey as s}from"./Survey.js";import{PlaylistManager as i}from"./PlaylistManager.js";import{Navigation as d}from"./Navigation.js";import{LocalStorage as t}from"./LocalStorage.js";import{URLManager as r}from"./URLManager.js";import{Content as e}from"./UI/Content.js";import{Footer as p}from"./UI/Footer.js";import{Header as c}from"./UI/Header.js";window.addEventListener("DOMContentLoaded",u);async function u(){p.init(t.loopMode,t.shuffleMode,t.volume),c.init(),e.init(),a.init(),f.init(),l.init(),m.init(),d.init();const n=await fetch("music-data.json");o.data=Object.freeze(await n.json()),i.setPlaylist(o.data,t.shuffleMode===1),r.handleQueryChange(),r.isDebugMode()&&(console.log("\u958B\u3051\u30B4\u30DE!"),e.debugLog.style.display="block"),o.playCountRecord=Object.freeze(await s.fetchPlayCountData()),e.setPlayCount(i.playlist,o.playCountRecord)}
