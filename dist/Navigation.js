"use strict";import{EventHandlers as t}from"./EventHandlers/EventHandlers.js";import{Sound as i}from"./Sound.js";import{Content as e}from"./UI/Content.js";export class Navigation{static setPositionState(a){navigator.mediaSession.setPositionState({duration:a.duration,playbackRate:a.playbackRate,position:a.currentTime})}static setNavigationMenu(a){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:a.title??"",artist:a.author??"",artwork:[{src:a.thumbnail??""}]}))}static init(){"mediaSession"in navigator&&(navigator.mediaSession.setPositionState({}),navigator.mediaSession.setActionHandler("play",a=>{e.addLog(a.action),navigator.mediaSession.playbackState="playing",t.togglePlayback()}),navigator.mediaSession.setActionHandler("pause",a=>{e.addLog(a.action),navigator.mediaSession.playbackState="paused",t.togglePlayback()}),navigator.mediaSession.setActionHandler("nexttrack",a=>{e.addLog(a.action),t.handleForward()}),navigator.mediaSession.setActionHandler("previoustrack",a=>{e.addLog(a.action),t.handleBack()}),navigator.mediaSession.setActionHandler("seekto",a=>{e.addLog(a.action+": "+a.seekTime),i.currentTime=+a.seekTime}),navigator.mediaSession.setActionHandler("seekbackward",a=>{e.addLog(a.action+": "+a.seekOffset),i.currentTime-=+a.seekOffset}),navigator.mediaSession.setActionHandler("seekforward",a=>{e.addLog(a.action+": "+a.seekOffset),i.currentTime+=+a.seekOffset}))}}
